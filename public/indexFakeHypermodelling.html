<!DOCTYPE html>
<html>
  <head>
    <title>Multimodel Demo - Sheets in 3D</title>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
    <meta charset="utf-8">

    <!-- The Viewer CSS -->
    <link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css" type="text/css">
    <script>document.write('<script src="http://' + (location.host || '${1:localhost}').split(':')[0] + ':${2:35729}/livereload.js?snipver=1"></' + 'script>')</script>
    <style>
    	* { margin: 0; padding: 0; }
    </style>
  </head>

<body onLoad="main()"> <div id="forgeViewer"></div> </body>

<script>

window.devicePixelRatio = 1.5;

let view;

const extensions = [
  "TransformationExtension", 
  "Autodesk.AEC.LevelsExtension",
  "Autodesk.DocumentBrowser",
  "Autodesk.AEC.Minimap3DExtension"
];

const urn = 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dnJwYXJ0eTEvcmFjX2FkdmFuY2VkX3NhbXBsZV9wcm9qZWN0LnJ2dA';

const sheets = [
  { id:0, scale:1/3.05, x:-102.7, y: -133, z: 1 },
  { id:1, scale:1/3.05, x:-44.5, y:-144.5-52.3, z:-116, vert:true },
]

function main() {

    const viewerOptions = {
        env: 'AutodeskProduction',
        accessToken: _adsk.token.access_token,
    };

    Autodesk.Viewing.Initializer(viewerOptions, () => {
        const div = document.getElementById('forgeViewer');
        viewer = new Autodesk.Viewing.Private.GuiViewer3D(div, { extensions: extensions });
        viewer.start();

	    view = new SheetsView(viewer);
	    view.load(urn, sheets, viewState);
	});
};

const viewState = {"objectSet":[{"id":[],"idType":"lmv","seedUrn":"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dnJwYXJ0eTEvcmFjX2FkdmFuY2VkX3NhbXBsZV9wcm9qZWN0LnJ2dA","isolated":[],"hidden":[1849,1886,1942,9921,2737],"explodeScale":0},{"id":[],"idType":"lmv","seedUrn":"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dnJwYXJ0eTEvcmFjX2FkdmFuY2VkX3NhbXBsZV9wcm9qZWN0LnJ2dA","isolated":[],"allLayers":true,"hidden":[]},{"id":[],"idType":"lmv","seedUrn":"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dnJwYXJ0eTEvcmFjX2FkdmFuY2VkX3NhbXBsZV9wcm9qZWN0LnJ2dA","isolated":[],"allLayers":true,"hidden":[]}],"viewport":{"name":"","eye":[122.26747913393116,-193.4735768775284,116.26378009085752],"target":[117.6301309834936,-186.53738917139702,112.21983687766917],"up":[-0.24240958155721073,0.3625775561593251,0.8998750527372062],"worldUpVector":[0,0,1],"pivotPoint":[106.63111877441406,13.21699595451355,11.886348158121109],"distanceToOrbit":207.96606375686454,"aspectRatio":1.07,"projection":"perspective","isOrthographic":false,"fieldOfView":53.13010235415598}};

</script>

<!-- The Viewer JS -->
<script src="https://xf79h9aa3l.execute-api.us-west-2.amazonaws.com/toolkit2/api/_adsk.js"></script>
<script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.js"></script>

<script src="js/sheetsview.js"></script>

</html>